name       : py
version    : 1.5.4
release    : 7
source     :
    - https://files.pythonhosted.org/packages/35/77/a0a2a4126cf454e6ac772942898379e2fe78f2b7885df0461a5b8f8a8040/py-1.5.4.tar.gz : 3fd59af7435864e1a243790d322d763925431213b6b8529c6ca71081ace3bbf7
license    : MIT
component  : programming.python
summary    : Modular python support library
description: |
    The py lib is a Python development support library featuring the following tools and modules:

    py.path: uniform local and svn path objects
    py.apipkg: explicit API control and lazy-importing
    py.iniconfig: easy parsing of .ini files
    py.code: dynamic code generation and introspection
builddeps  :
    - pkgconfig(libsvn_client)  # check
    - pkgconfig(python3)
    - python-pytest             # check
    - python-setuptools
    - python-setuptools-scm
setup      : |
    %python_setup
    %python3_setup
install    : |
    %python_install
    %python3_install
check      : |
    export LC_ALL="en_US.UTF-8"

    pushd $PKG_BUILD_DIR/py2build
        PYTHONPATH=$PWD py.test -k"-test_warning"
    popd

    pushd $PKG_BUILD_DIR/py3build
        PYTHONPATH=$PWD py.test3 -k"-test_warning"
    popd
